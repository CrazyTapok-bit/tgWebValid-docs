import{_ as r}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as s,o as l,c,a as e,d as n,b as a,w as d,e as o}from"./app-I-0oNmCg.js";const p={},u=e("code",null,"HMAC-SHA-256",-1),h=e("code",null,"SHA256",-1),g={href:"https://core.telegram.org/widgets/login#checking-authorization",target:"_blank",rel:"noopener noreferrer"},m=o(`<h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token variable">$user</span> <span class="token operator">=</span> <span class="token variable">$bot</span><span class="token operator">-&gt;</span><span class="token function">validateLoginWidget</span><span class="token punctuation">(</span>
  <span class="token argument-name">user</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string single-quoted-string">&#39;auth_date&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">1679130118</span><span class="token punctuation">,</span>
      <span class="token string single-quoted-string">&#39;first_name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Ð¡ÐµÑ€Ð³Ñ–Ð¹&#39;</span><span class="token punctuation">,</span>
      <span class="token comment">// other fields</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token keyword">throw</span><span class="token punctuation">:</span> <span class="token constant boolean">true</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),v=e("h2",{id:"parameters",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#parameters","aria-hidden":"true"},"#"),n(" Parameters")],-1),_=e("h3",{id:"user",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#user","aria-hidden":"true"},"#"),n(),e("code",null,"user")],-1),k=e("ul",null,[e("li",null,[n("Type: "),e("code",null,"array")]),e("li",null,"Required: Yes")],-1),f=e("p",null,"An array of raw user data returned by the authorization widget.",-1),b={href:"https://core.telegram.org/widgets/login#receiving-authorization-data",target:"_blank",rel:"noopener noreferrer"},x=o('<h3 id="throw" tabindex="-1"><a class="header-anchor" href="#throw" aria-hidden="true">#</a> <code>throw</code></h3><ul><li>Type: <code>bool</code></li><li>Required: No</li><li>Default: <code>null</code>. Default settings apply</li></ul><p>If set to <code>true</code>, the library will throw an exception if validation fails.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Be sure to use <code>try/catch</code> if you plan to handle exceptions ðŸ˜‰</p><p>If exceptions are enabled, you will get a [ValidationException] exception after a validation failure(../exception/validation.md). Otherwise, `false&#39; will be returned.</p></div>',4);function w(y,L){const t=s("ExternalLinkIcon"),i=s("RouterLink");return l(),c("div",null,[e("p",null,[n("We verify the authentication and integrity of the received data by comparing the received hash parameter to the hexadecimal representation of the "),u,n(" signature of the data validation string with the "),h,n(" hash of the bot token used as the secret key. Details "),e("a",g,[n("here"),a(t)])]),m,e("p",null,[n("ðŸ’¡ Upon successful validation, the method will return a "),a(i,{to:"/en/docs/entity/login-widget.html"},{default:d(()=>[n("LoginWidget")]),_:1}),n(" entity that contains all existing user data that can be used on your server.")]),v,_,k,f,e("p",null,[e("a",b,[n("Additional Information"),a(t)])]),x])}const E=r(p,[["render",w],["__file","login-widget.html.vue"]]);export{E as default};
